use TerranCommandCenter as knowledge.
use TerranCommandcenter as actionspec.

module TerranCommandCenterEvent {	
	% DO NOT REMOVE OR MODIFY THE TWO RULES BELOW
	forall bel(friendly(Type,Id,Conditions)), not(percept(friendly(Type,Id,Conditions))) do delete(friendly(Type,Id,Conditions)).	
	forall percept(friendly(Type,Id,Conditions)), not(bel(friendly(Type,Id,Conditions))) do insert(friendly(Type,Id,Conditions)).

	%update minerals
	if percept(resources(M1, G1, Cs1, Ts1)), bel(resources(M, G , Cs, Ts), resources(M, G, Cs, Ts) \= resources(M1, G1, Cs1, Ts1))
		then delete(resources(M, G , Cs, Ts)) + insert (resources(M1, G1, Cs1, Ts1)).
	%ypdate queusize
	if percept(queueSize(A)), bel(queueSize(B)) 
	then delete(queueSize(B)) + insert(queueSize(A)).
	if bel(queueSize(0), scvAmount(Y), amountMax(N), Y<N, resources(M,_,Amount,Max), Amount\=Max, scvCost(A), M>=A) then insert(train).
	
	%message handling for making terran barracks terran supply depots and a terran refinery
	
	if bel(resources(M,_,_,_),barrackCost(X), M>X), not(percept(friendly('Terran Barracks', _, _)))
	then (terranSCV_0).send(assigned(2)).
	if bel(resources(M,_,_,_),barrackCost(X), M>X), not(percept(friendly('Terran Barracks', _, _)))
	then (terranSCV_3).send(assigned(2)).
	if bel(resources(M,_,_,_),supplyCost(X), M>X), not(percept(friendly('Terran Supply Depot',_,_)))
	then (terranSCV_1).send(assigned(3)).
	if bel(resources(M,_,_,_),supplyCost(X), M>X), percept(friendly('Terran Supply Depot',_,_))
	then (terranSCV_2).send(assigned(4)).
	if bel(resources(M,_,Amount,Max), M>100), not(percept(friendly('Terran Refinery'))) then (terranSCV).send(assigned(1)).
	
}